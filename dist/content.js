(()=>{"use strict";const e={〇:0,一:1,二:2,三:3,四:4,五:5,六:6,七:7,八:8,九:9},t={十:10,百:100,千:1e3},n={万:1e4,億:1e8,兆:1e12},r="〇一二三四五六七八九十百千万億兆",o=r+"・",a=[{pattern:new RegExp(`([${r}]+)分の([${r}]+)`,"g"),replace:(e,t,n)=>`${c(n)}/${c(t)}`},...["円","年","月","日","人","割","週","期","親等","個","歳","犯","回","以上"].map(e=>({pattern:new RegExp(`([${r}]+)${e}`,"g"),replace:(t,n)=>`${c(n)}${e}`})),{pattern:new RegExp(`([${o}]+)パーセント`,"g"),replace:(e,t)=>`${c(t)}%`},{pattern:new RegExp(`([${r}]+)箇月`,"g"),replace:(e,t)=>`${c(t)}か月`},{pattern:new RegExp(`第([${r}]+)(?![${r}])(?!取得者|債務者|者|方|般)`,"g"),replace:(e,t)=>`第${p(t)}`},{pattern:new RegExp(`前([${r}]+)(?![${r}])(?!方|般)`,"g"),replace:(e,t)=>`前${p(t)}`},{pattern:new RegExp(`([条項章節款目\\d])((?:の[${r}]+)+)(?![${r}])(?!方|般)`,"g"),replace:(e,t,n)=>t+n.replace(new RegExp(`の([${r}]+)`,"g"),(e,t)=>`の${p(t)}`)},{pattern:new RegExp(`[${r}]+([万億兆])[${r}]*`,"g"),replace:e=>{const t=i(e);return isNaN(t)?e:t.toLocaleString()}}];function c(e){const t=p(e),n=Number(t);return isNaN(n)?t:n.toLocaleString()}function p(t){return/[十百千万億兆]/.test(t)?i(t).toString():t.split("").map(t=>"・"===t?".":e[t]??t).join("")}function i(r){let o=0,a=0,c=-1;for(const p of r)if(void 0!==e[p])-1!==c&&(a+=c),c=e[p];else if(void 0!==t[p])a+=(-1===c?1:c)*t[p],c=-1;else if(void 0!==n[p]){let e=a;-1!==c&&(e+=c,c=-1),0===e&&(e=1),o+=e*n[p],a=0}return-1!==c&&(a+=c),o+=a,o}const s=new Set(["SCRIPT","STYLE","NOSCRIPT","TEXTAREA","INPUT","CODE","PRE"]);function l(e){if(e.nodeType!==Node.TEXT_NODE)return!1;const t=e.parentElement;return!!t&&!s.has(t.tagName)&&!t.isContentEditable}const d=new WeakSet;function E(e){if(!l(e)||d.has(e))return;const t=e.textContent;if(t&&(/[〇一二三四五六七八九十百千万億兆]/.test(t)||t.includes("箇月"))){const n=function(e){let t=e;for(const e of a)t=t.replace(e.pattern,e.replace);return t.replace(/箇月/g,"か月")}(t);n!==t&&(e.textContent=n,d.add(e))}}function g(e){if(e.nodeType===Node.TEXT_NODE)return void E(e);const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>l(e)&&!d.has(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});let n;for(;n=t.nextNode();)E(n)}g(document.body),new MutationObserver(e=>{for(const t of e)"childList"===t.type?t.addedNodes.forEach(e=>g(e)):"characterData"===t.type&&(d.delete(t.target),E(t.target))}).observe(document.body,{childList:!0,subtree:!0,characterData:!0})})();
//# sourceMappingURL=content.js.map